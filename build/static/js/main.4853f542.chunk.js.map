{"version":3,"sources":["searchBar.js","numberForm.js","numberList.js","notification.js","services/request.js","App.js","index.js"],"names":["SearchBar","searchHandler","action","onChange","type","name","id","numberForm","inputHandler","formHandler","onSubmit","htmlFor","NumberList","persons","deleteHandler","map","person","key","number","onClick","e","Notification","message","console","log","style","background","height","width","color","fontSize","borderRadius","text","baseUrl","axios","get","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","notification","setNotification","useEffect","personService","then","response","data","target","value","regex","RegExp","searchFilter","filter","test","preventDefault","checkEntry","find","catch","newObj","Math","floor","random","setTimeout","selectedPerson","window","confirm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4853f542.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\n\r\nconst SearchBar = ( {searchHandler} ) => {\r\n    return (\r\n        <div>\r\n            <form action=\"\">\r\n                <input onChange={searchHandler} type=\"search\" name=\"\" id=\"\"/>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchBar","import React, { useState } from 'react'\r\n\r\nconst numberForm = ( {inputHandler, formHandler} ) => {\r\n    return (\r\n        <div>\r\n            <h2>Add new number</h2>\r\n            <form onSubmit={formHandler} action=\"\">\r\n                <label htmlFor=\"\">\r\n                    Name:\r\n                    <input onChange={inputHandler} type=\"text\" name=\"\" id=\"\"/>\r\n                </label>\r\n                <br/>\r\n                <label htmlFor=\"\">\r\n                    Number:\r\n                    <input onChange={inputHandler} type=\"number\" name=\"\" id=\"\"/>\r\n                </label>\r\n                <br/>\r\n                <button type=\"submit\">Add</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default numberForm","import React, { useState } from 'react'\r\n\r\nconst NumberList = ( {persons, deleteHandler} ) => {\r\n    return (\r\n        <div>\r\n            <h2>Numbers</h2>\r\n            <ul> {persons.map( (person) => \r\n                <li key={person.id}>\r\n                    {person.name}: {person.number}\r\n                    <button onClick={(e => {deleteHandler(person)})}>Delete</button>\r\n                </li>)\r\n                }\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NumberList","import React, { useState } from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n\r\n\tconst error = {\r\n\t\tbackground: 'grey',\r\n\t\theight: 200,\r\n\t\twidth: \"100%\",\r\n\t\tcolor: 'red', \r\n\t\tfontSize: 20,\r\n\t\tborderRadius: 25 \r\n\t}\r\n\r\n\tconst success = {\r\n\t\tbackground: 'grey',\r\n\t\tcolor: 'green', \r\n\t\tfontSize: 20,\r\n\t\tborderRadius: 25 \r\n\t}\r\n\r\n\tif(message.type == 'error'){\r\n\t\tconsole.log('success')\r\n\t\treturn (\r\n\t\t\t<div style={error}>\r\n\t\t\t\t{message.text}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\telse if(message.type == 'success') {\r\n\t\tconsole.log('success')\r\n\t\treturn (\r\n\t\t\t<div style={success}>\r\n\t\t\t\t{message.text}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\telse return(null)\r\n}  \r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deleteEntry = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update,\r\n  deleteEntry: deleteEntry\r\n}","import React, { useState, useEffect } from 'react'\nimport SearchBar from './searchBar.js'\nimport NumberForm from './numberForm.js'\nimport NumberList from './numberList.js'\nimport Notification from './notification.js'\nimport personService from './services/request.js'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState(0)\n  const [notification, setNotification] = useState({})\n\n  useEffect(() => {\n    console.log('effect')\n    personService.getAll()\n    .then(response => {\n      console.log(response)\n      setPersons(response.data)\n    })\n  }, [])\n\n  const searchHandler = (e) => {\n    if(e.target.value){\n      const regex = new RegExp(`^${e.target.value}`,\"gi\")\n      const searchFilter = persons.filter( person => regex.test(person.name))\n      setPersons(searchFilter)\n    }\n    else{\n      setPersons([])\n    }\n  }\n  \n  const formHandler = (e) => {\n    e.preventDefault()\n    const checkEntry = persons.find(person => person.name == newName)\n    if(checkEntry){\n      personService.update(checkEntry.id, {name:newName, number: newNumber})\n      .then(response => {\n        setPersons(persons.map(person => person.id !== checkEntry.id ? person : response.data))\n      })\n      .catch(response => {\n        console.log(response)\n        setNotification({type: 'error', text: `Information of ${newName} has already been removed from the server`})\n      })\n    }\n\n    else{\n      const newObj = {name: newName, number: newNumber, id: Math.floor(Math.random() * 100)}\n      personService.create(newObj)\n      .then(response => {\n        setPersons([...persons, response.data])\n        setNotification({type: 'success', text: `Added ${newName}`})\n        setTimeout(() => {\n          setNotification({})\n        }, 5000)\n      })\n    }\n  }\n\n  const inputHandler = (e) => {\n    e.preventDefault()\n    if(e.target.type == \"text\"){\n      setNewName(e.target.value)\n    }\n    else{\n      setNewNumber(e.target.value)\n    }\n  }\n\n  const deleteHandler = (selectedPerson) => {\n\n    if(window.confirm(`delete${selectedPerson.name}?`)){\n      personService.deleteEntry(selectedPerson.id)\n      .then(response => {\n        setPersons(persons.filter(person => person.id != selectedPerson.id))\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification}/>\n      <SearchBar searchHandler={searchHandler}/>\n      <NumberForm formHandler={formHandler} inputHandler={inputHandler}/>\n      <NumberList deleteHandler={deleteHandler} persons={persons}/>\n    </div>\n  )\n}\n\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}